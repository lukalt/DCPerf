diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/client/AdSimClient.cpp adsim/cpp2/client/AdSimClient.cpp
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/client/AdSimClient.cpp	2025-07-23 15:19:51.993714475 -0700
+++ adsim/cpp2/client/AdSimClient.cpp	2025-07-23 13:39:13.956165397 -0700
@@ -14,17 +14,15 @@
  * limitations under the License.
  */
 
-#include <cea/chips/adsim/cpp2/client/TLSConnect.h>
 #include <folly/SocketAddress.h>
 #include <folly/coro/BlockingWait.h>
 #include <folly/init/Init.h>
 #include <folly/io/async/EventBase.h>
 #include <folly/io/async/NotificationQueue.h>
-// clang-format off (import order matters)
-#include <cea/chips/adsim/cpp2/client/CoWorker.h>
-// clang-format on
-#include <cea/chips/adsim/if/gen-cpp2/AdSim.h>
 #include <thrift/lib/cpp2/async/RocketClientChannel.h>
+#include "CoWorker.h"
+#include "TLSConnect.h"
+#include "if/gen-cpp2/AdSim.h"
 
 DEFINE_string(host, "::1", "AdSimServer host");
 DEFINE_int32(port, 10086, "AdSimServer port");
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/client/CoWorker.h adsim/cpp2/client/CoWorker.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/client/CoWorker.h	2025-07-23 15:19:51.994339131 -0700
+++ adsim/cpp2/client/CoWorker.h	2025-07-23 15:00:16.348672265 -0700
@@ -16,14 +16,16 @@
 
 #pragma once
 
-#include <cea/chips/adsim/if/gen-cpp2/AdSim.h>
 #include <fizz/client/AsyncFizzClient.h>
 #include <folly/MoveWrapper.h>
+#include <folly/coro/Task.h>
 #include <folly/futures/Promise.h>
 #include <folly/io/async/EventBase.h>
 #include <folly/io/async/NotificationQueue.h>
 #include <thrift/lib/cpp2/async/RocketClientChannel.h>
 #include <thrift/lib/cpp2/security/extensions/ThriftParametersClientExtension.h>
+#include "TLSConnect.h"
+#include "if/gen-cpp2/AdSim.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimServer.cpp adsim/cpp2/server/AdSimServer.cpp
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimServer.cpp	2025-07-23 15:19:52.003168110 -0700
+++ adsim/cpp2/server/AdSimServer.cpp	2025-07-23 14:55:00.473453567 -0700
@@ -19,16 +19,17 @@
 #include <streambuf>
 #include <string>
 
-#include <cea/chips/adsim/cpp2/server/AdSimService.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Dwarfs.h>
+#include <folly/dynamic.h>
 #include <folly/init/Init.h>
 #include <folly/io/async/test/TestSSLServer.h>
-#include <folly/json/json.h>
+#include <folly/json.h>
 #include <folly/portability/GFlags.h>
 #include <glog/logging.h>
 #include <thrift/lib/cpp2/server/Cpp2Worker.h>
 #include <thrift/lib/cpp2/server/ThriftProcessor.h>
 #include <thrift/lib/cpp2/server/ThriftServer.h>
+#include "cpp2/server/AdSimService.h"
+#include "cpp2/server/dwarfs/Dwarfs.h"
 
 DEFINE_string(config_file, "", "A json file of configurations");
 DEFINE_int32(port, -1, "Overwrite port in the config file");
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimService.cpp adsim/cpp2/server/AdSimService.cpp
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimService.cpp	2025-07-23 15:19:52.003580325 -0700
+++ adsim/cpp2/server/AdSimService.cpp	2025-07-23 14:47:08.225335194 -0700
@@ -14,8 +14,8 @@
  * limitations under the License.
  */
 
-#include <cea/chips/adsim/cpp2/server/AdSimService.h>
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
+#include "cpp2/server/AdSimService.h"
+#include "cpp2/server/DataObjects.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/coro/Collect.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimService.h adsim/cpp2/server/AdSimService.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/AdSimService.h	2025-07-23 15:19:52.003915422 -0700
+++ adsim/cpp2/server/AdSimService.h	2025-07-23 14:32:46.911992520 -0700
@@ -22,10 +22,10 @@
 #include <folly/Executor.h>
 #include <folly/MapUtil.h>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
-#include <cea/chips/adsim/if/gen-cpp2/AdSim.h>
 #include <fb303/BaseService.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
+#include "if/gen-cpp2/AdSim.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/DataObjects.cpp adsim/cpp2/server/DataObjects.cpp
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/DataObjects.cpp	2025-07-23 15:19:52.004556773 -0700
+++ adsim/cpp2/server/DataObjects.cpp	2025-07-23 14:32:46.159464476 -0700
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
+#include "cpp2/server/DataObjects.h"
 #include <folly/Singleton.h>
 
 namespace facebook::cea::chips::adsim {
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/DataObjects.h adsim/cpp2/server/DataObjects.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/DataObjects.h	2025-07-23 15:19:52.004868304 -0700
+++ adsim/cpp2/server/DataObjects.h	2025-07-23 14:32:48.398548460 -0700
@@ -27,7 +27,7 @@
 #include <thrift/lib/cpp2/protocol/CompactProtocol.h>
 #include <thrift/lib/cpp2/protocol/Serializer.h>
 
-#include <cea/chips/adsim/if/gen-cpp2/AdSim.h>
+#include "if/gen-cpp2/AdSim.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Compress.cc adsim/cpp2/server/dwarfs/Compress.cc
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Compress.cc	2025-07-23 15:19:51.997508761 -0700
+++ adsim/cpp2/server/dwarfs/Compress.cc	2025-07-23 14:51:56.542138687 -0700
@@ -18,10 +18,10 @@
 #include <util.h>
 
 #include <glog/logging.h>
-#include <cstring>
+#include <string.h>
 
-#include <cea/chips/adsim/cpp2/server/dwarfs/Compress.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "Compress.h"
+#include "Kernel.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/coro/Task.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Compress.h adsim/cpp2/server/dwarfs/Compress.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Compress.h	2025-07-23 15:19:51.997799340 -0700
+++ adsim/cpp2/server/dwarfs/Compress.h	2025-07-23 14:32:45.338879764 -0700
@@ -21,8 +21,8 @@
 
 #include <string.h>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <folly/coro/Task.h>
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/DeepCopy.h adsim/cpp2/server/dwarfs/DeepCopy.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/DeepCopy.h	2025-07-23 15:19:51.998073196 -0700
+++ adsim/cpp2/server/dwarfs/DeepCopy.h	2025-07-23 15:00:48.547103410 -0700
@@ -24,8 +24,8 @@
 #include <unordered_map>
 #include <vector>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/container/F14Map.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Delay.h adsim/cpp2/server/dwarfs/Delay.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Delay.h	2025-07-23 15:19:51.998389434 -0700
+++ adsim/cpp2/server/dwarfs/Delay.h	2025-07-23 14:57:50.393897193 -0700
@@ -18,8 +18,8 @@
 
 #include <unistd.h>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/coro/Task.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Dwarfs.cc adsim/cpp2/server/dwarfs/Dwarfs.cc
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Dwarfs.cc	2025-07-23 15:19:51.998841899 -0700
+++ adsim/cpp2/server/dwarfs/Dwarfs.cc	2025-07-23 14:32:44.439619934 -0700
@@ -19,17 +19,17 @@
 #include <folly/MapUtil.h>
 #include <folly/dynamic.h>
 
-#include <cea/chips/adsim/cpp2/server/dwarfs/Compress.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/DeepCopy.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Delay.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Dwarfs.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/FakeIO.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/GEMM.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/HashMap.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/IBRun.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Serialize.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Shape.h>
+#include "Compress.h"
+#include "DeepCopy.h"
+#include "Delay.h"
+#include "Dwarfs.h"
+#include "FakeIO.h"
+#include "GEMM.h"
+#include "HashMap.h"
+#include "IBRun.h"
+#include "Kernel.h"
+#include "Serialize.h"
+#include "Shape.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Dwarfs.h adsim/cpp2/server/dwarfs/Dwarfs.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Dwarfs.h	2025-07-23 15:19:51.999213011 -0700
+++ adsim/cpp2/server/dwarfs/Dwarfs.h	2025-07-23 14:32:43.684428312 -0700
@@ -19,9 +19,9 @@
 #include <string>
 
 #include <folly/MapUtil.h>
-#include <folly/json/dynamic.h>
+#include <folly/dynamic.h>
 
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/dwarfs/Kernel.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/FakeIO.h adsim/cpp2/server/dwarfs/FakeIO.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/FakeIO.h	2025-07-23 15:19:51.999497513 -0700
+++ adsim/cpp2/server/dwarfs/FakeIO.h	2025-07-23 14:57:47.233954082 -0700
@@ -18,8 +18,8 @@
 
 #include <unistd.h>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/coro/Task.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/GEMM.cc adsim/cpp2/server/dwarfs/GEMM.cc
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/GEMM.cc	2025-07-23 15:19:51.999786450 -0700
+++ adsim/cpp2/server/dwarfs/GEMM.cc	2025-07-23 14:32:42.590841531 -0700
@@ -22,17 +22,21 @@
 #include <glog/logging.h>
 
 #ifdef _OPENMP
+#include <omp.h>
 #endif
 
 #ifdef USE_MKL
+#include <mkl.h>
 #endif
 
 #include "bench/BenchUtils.h"
 #include "fbgemm/Fbgemm.h"
+#include "src/RefImplementations.h"
 #include "test/QuantizationHelpers.h"
 
-#include <cea/chips/adsim/cpp2/server/dwarfs/GEMM.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include <folly/coro/Task.h>
+#include "GEMM.h"
+#include "Kernel.h"
 
 using namespace std;
 using namespace fbgemm;
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/GEMM.h adsim/cpp2/server/dwarfs/GEMM.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/GEMM.h	2025-07-23 15:19:52.000049698 -0700
+++ adsim/cpp2/server/dwarfs/GEMM.h	2025-07-23 14:59:13.484075005 -0700
@@ -22,8 +22,8 @@
 
 #include <assert.h>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/coro/Collect.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/HashMap.cc adsim/cpp2/server/dwarfs/HashMap.cc
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/HashMap.cc	2025-07-23 15:19:52.000486870 -0700
+++ adsim/cpp2/server/dwarfs/HashMap.cc	2025-07-23 14:57:01.001349999 -0700
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-#include <cea/chips/adsim/cpp2/server/dwarfs/HashMap.h>
+#include "HashMap.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/HashMap.h adsim/cpp2/server/dwarfs/HashMap.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/HashMap.h	2025-07-23 15:19:52.000859194 -0700
+++ adsim/cpp2/server/dwarfs/HashMap.h	2025-07-23 14:59:41.446148261 -0700
@@ -24,8 +24,8 @@
 #include <unordered_map>
 #include <vector>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <folly/Synchronized.h>
 #include <folly/container/F14Map.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/IBRun.h adsim/cpp2/server/dwarfs/IBRun.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/IBRun.h	2025-07-23 15:19:52.001212739 -0700
+++ adsim/cpp2/server/dwarfs/IBRun.h	2025-07-23 14:57:56.288805943 -0700
@@ -16,9 +16,9 @@
 
 #pragma once
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/icache_buster/ICacheBuster.h> // @manual=//cea/chips/adsim/cpp2/server/dwarfs/icache_buster:libicachebuster
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
+#include "cpp2/server/dwarfs/icache_buster/ICacheBuster.h" // @manual=//cea/chips/adsim/cpp2/server/dwarfs/icache_buster:libicachebuster
 
 #include <folly/coro/Task.h>
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/icache_buster/gen_icache_buster.py adsim/cpp2/server/dwarfs/icache_buster/gen_icache_buster.py
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/icache_buster/gen_icache_buster.py	2025-07-23 15:19:51.996896003 -0700
+++ adsim/cpp2/server/dwarfs/icache_buster/gen_icache_buster.py	2025-07-23 15:01:29.653006276 -0700
@@ -14,8 +14,6 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-# pyre-unsafe
-
 """Module to split file into multiple segments."""
 
 import argparse
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Kernel.cc adsim/cpp2/server/dwarfs/Kernel.cc
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Kernel.cc	2025-07-23 15:19:52.001549950 -0700
+++ adsim/cpp2/server/dwarfs/Kernel.cc	2025-07-23 14:32:38.528752069 -0700
@@ -20,7 +20,7 @@
 #include <fb303/ExportType.h>
 #include <fb303/ThreadCachedServiceData.h>
 
-#include "cea/chips/adsim/cpp2/server/dwarfs/Kernel.h"
+#include "Kernel.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Kernel.h adsim/cpp2/server/dwarfs/Kernel.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Kernel.h	2025-07-23 15:19:52.001884327 -0700
+++ adsim/cpp2/server/dwarfs/Kernel.h	2025-07-23 14:32:37.709212437 -0700
@@ -21,10 +21,10 @@
 #include <unordered_map>
 #include <vector>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
 #include <folly/coro/Task.h>
-#include <folly/json/dynamic.h>
+#include <folly/dynamic.h>
 #include <glog/logging.h>
+#include "cpp2/server/DataObjects.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Serialize.h adsim/cpp2/server/dwarfs/Serialize.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Serialize.h	2025-07-23 15:19:52.002356461 -0700
+++ adsim/cpp2/server/dwarfs/Serialize.h	2025-07-23 14:58:01.779376886 -0700
@@ -20,15 +20,15 @@
 
 #include <algorithm>
 
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
 
 #include <folly/coro/Task.h>
 
 #include <thrift/lib/cpp2/protocol/CompactProtocol.h>
 #include <thrift/lib/cpp2/protocol/Serializer.h>
 
-#include <cea/chips/adsim/if/gen-cpp2/Serialize_types.h>
+#include "if/gen-cpp2/Serialize_types.h"
 
 namespace facebook::cea::chips::adsim {
 
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Shape.h adsim/cpp2/server/dwarfs/Shape.h
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/cpp2/server/dwarfs/Shape.h	2025-07-23 15:19:52.002781275 -0700
+++ adsim/cpp2/server/dwarfs/Shape.h	2025-07-23 14:56:52.357330465 -0700
@@ -16,10 +16,10 @@
 
 #pragma once
 
-#include <cea/chips/adsim/cpp2/client/TLSConnect.h>
-#include <cea/chips/adsim/cpp2/server/DataObjects.h>
-#include <cea/chips/adsim/cpp2/server/dwarfs/Kernel.h>
-#include <cea/chips/adsim/if/gen-cpp2/AdSim.h>
+#include "cpp2/client/TLSConnect.h"
+#include "cpp2/server/DataObjects.h"
+#include "cpp2/server/dwarfs/Kernel.h"
+#include "if/gen-cpp2/AdSim.h"
 
 #include <fb303/ThreadCachedServiceData.h>
 #include <folly/MoveWrapper.h>
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/if/AdSim.thrift adsim/if/AdSim.thrift
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/if/AdSim.thrift	2025-07-23 15:19:52.006032827 -0700
+++ adsim/if/AdSim.thrift	2025-07-23 13:32:56.207818287 -0700
@@ -1,4 +1,4 @@
-include "common/fb303/if/fb303.thrift"
+include "fb303.thrift"
 
 namespace cpp2 facebook.cea.chips.adsim
 namespace py3 facebook.cea.chips.adsim
diff -wbBdu -ruN '--exclude=.git' /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/if/Serialize.thrift adsim/if/Serialize.thrift
--- /data/users/kaiweitu/fbsource/fbcode/cea/chips/benchpress/adsim_group/if/Serialize.thrift	2025-07-23 15:19:52.006574358 -0700
+++ adsim/if/Serialize.thrift	2025-07-23 13:32:56.208334838 -0700
@@ -3,20 +3,15 @@
 cpp_include "list"
 cpp_include "folly/container/F14Map.h"
 
-include "thrift/annotation/cpp.thrift"
-
 struct SerializableInfo {
   1: bool var_bool;
   2: i32 var_i32;
   3: double var_double;
 }
 
-@cpp.Type{template = "std::list"}
-typedef list<i32> id_list_t
-@cpp.Type{template = "folly::F14VectorMap"}
-typedef map<i32, id_list_t> id_map_t
-@cpp.Type{template = "std::list"}
-typedef list<SerializableInfo> info_list_t
+typedef list<i32> (cpp.template = "std::list") id_list_t
+typedef map<i32, id_list_t> (cpp.template = "folly::F14VectorMap") id_map_t
+typedef list<SerializableInfo> (cpp.template = "std::list") info_list_t
 
 struct SerializableUnit {
   1: id_map_t map_of_list;
@@ -24,8 +19,7 @@
   3: id_list_t list_of_i32;
 }
 
-@cpp.Type{template = "std::list"}
-typedef list<SerializableUnit> unit_list_t
+typedef list<SerializableUnit> (cpp.template = "std::list") unit_list_t
 
 struct SerializableReq {
   1: i64 var_i64;
